<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Shifa! 🎉</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #fff9c4 0%, #ffecb3 25%, #fce4ec 75%, #f8bbd0 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            animation: fadeInUp 1s ease-out;
            position: relative;
            overflow: hidden;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            text-align: center;
            color: #d81b60;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .subtitle {
            text-align: center;
            color: #ec407a;
            font-size: 1.3em;
            margin-bottom: 30px;
            font-weight: 500;
        }

        .photo-container {
            text-align: center;
            margin: 30px 0;
            animation: zoomIn 1.5s ease-out;
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .photo-container img {
            max-width: 100%;
            width: auto;
            height: auto;
            max-height: 600px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 5px solid white;
            transition: transform 0.3s ease;
            object-fit: contain;
        }
        
        @media (max-width: 768px) {
            .photo-container img {
                max-height: 450px;
            }
        }

        .photo-container img:hover {
            transform: scale(1.05) rotate(2deg);
        }

        .message-card {
            background: linear-gradient(135deg, #fff9e6 0%, #ffe6f0 100%);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            animation: slideIn 1.5s ease-out;
            border-left: 5px solid #d81b60;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .message-card p {
            color: #555;
            line-height: 1.8;
            font-size: 1.05em;
            margin-bottom: 15px;
            text-align: justify;
        }

        .heart {
            position: fixed;
            font-size: 30px;
            animation: float 4s ease-in infinite;
            pointer-events: none;
            z-index: 1000;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #f50057;
            animation: confettiFall 3s linear infinite;
            pointer-events: none;
            z-index: 1000;
        }

        @keyframes confettiFall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        .music-controls {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 2002;
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
        }

        .music-btn {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #d81b60, #ec407a);
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .music-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .music-btn:active {
            transform: scale(0.95);
        }

        .music-btn.playing {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .music-label {
            background: rgba(216, 27, 96, 0.9);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            white-space: nowrap;
        }

        .candle-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
            display: none;
            flex-direction: column;
            align-items: center;
            animation: candleAppear 1s ease-out;
        }

        .candle-container.show {
            display: flex;
        }

        @keyframes candleAppear {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .candle {
            width: 60px;
            height: 150px;
            background: linear-gradient(to right, #ff69b4, #ff1493);
            border-radius: 10px 10px 5px 5px;
            position: relative;
            box-shadow: 0 5px 20px rgba(255, 20, 147, 0.4);
        }

        .candle::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 20px;
            background: #333;
            border-radius: 3px;
        }

        .flame-container {
            position: absolute;
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
        }

        .flame {
            width: 30px;
            height: 50px;
            background: linear-gradient(to top, #ff69b4, #ffd700, #ff8c00);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: relative;
            animation: flicker 0.3s ease-in-out infinite alternate;
            box-shadow: 0 0 20px #ff69b4, 0 0 40px #ff69b4;
        }

        .flame.blown {
            animation: blowOut 0.5s ease-out forwards;
        }

        @keyframes flicker {
            0% {
                transform: scale(1) translateY(0);
            }
            100% {
                transform: scale(1.05) translateY(-3px);
            }
        }

        @keyframes blowOut {
            0% {
                transform: scale(1) translateX(0);
                opacity: 1;
            }
            50% {
                transform: scale(0.8) translateX(20px);
                opacity: 0.5;
            }
            100% {
                transform: scale(0) translateX(40px);
                opacity: 0;
            }
        }

        .flame-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 70px;
            background: radial-gradient(circle, rgba(255, 105, 180, 0.4), transparent);
            border-radius: 50%;
            animation: glow 0.3s ease-in-out infinite alternate;
        }

        @keyframes glow {
            0% {
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                transform: translate(-50%, -50%) scale(1.2);
            }
        }

        .smoke {
            position: absolute;
            width: 5px;
            height: 5px;
            background: rgba(150, 150, 150, 0.5);
            border-radius: 50%;
            animation: smokeRise 2s ease-out forwards;
        }

        @keyframes smokeRise {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100px) scale(3);
                opacity: 0;
            }
        }

        .instruction {
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 30px;
            border-radius: 20px;
            font-size: 1.1em;
            color: #d81b60;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: bounce 2s infinite;
        }

        .wish-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: rgba(255, 255, 255, 0.98);
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
            z-index: 2001;
            text-align: center;
            max-width: 500px;
        }

        .wish-message.show {
            animation: popIn 0.5s ease-out forwards;
        }

        @keyframes popIn {
            0% {
                transform: translate(-50%, -50%) scale(0);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.1);
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .wish-message h2 {
            color: #d81b60;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .wish-message p {
            color: #555;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .close-wish {
            margin-top: 20px;
            padding: 12px 30px;
            background: linear-gradient(135deg, #d81b60, #ec407a);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-wish:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(216, 27, 96, 0.4);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1999;
            display: none;
        }

        .overlay.show {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 768px) {
            .container {
                padding: 25px;
            }

            h1 {
                font-size: 2em;
            }

            .subtitle {
                font-size: 1.1em;
            }

            .message-card {
                padding: 20px;
            }

            .message-card p {
                font-size: 1em;
            }

            .music-controls {
                bottom: 20px;
                right: 20px;
            }

            .music-btn {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }

            .candle {
                width: 50px;
                height: 120px;
            }

            .wish-message {
                padding: 30px;
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <audio id="bgMusic" loop preload="auto">
        <source src="Perfect - Ed Sheeran.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        <h1>🎉 Happy Birthday Shifa! 🎉</h1>
        <div class="subtitle">Selamat Ulang Tahun yang ke-19 💕</div>

        <div class="photo-container">
            <img src="https://i.imgur.com/GKdOqOi.jpeg" alt="Shifa" id="mainPhoto">
        </div>

        <div class="message-card">
            <p>Semoga di umur yang ke-19 tahun ini kamu bisa ngelakuin hal-hal yang belum kamu capai sebelumnya. Semoga sehat selalu, panjang umur, bahagia selalu, lancar semua urusannya, rezeki melimpah, dilindungi dari hal-hal buruk, dan dikasih kemudahan di setiap langkah.</p>
            
            <p>Selalu sayang ibu ayah dan adekkk. Semoga makin cantik, makin baik, makin imut, makin lucu, makin pinter, makin dewasa, daaaaaaannnnnn makin sayang aku aku akuuuuuuu 💕</p>
            
            <p>shif maaf ya kalo aku hmmmmmm sering buat sedih dulu (semoga sekarang udah engga), kayak iya aku jahat bgt dah ak suka kayak mikir gila ya gua ke shifa ky tai bgt dlu, but i will try my best skrg cok</p>
            
            <p>maaf jg kalo aku ga seeffort itu, aku jg bingung cok mau gimana ya ini tp ini ak lg cape aja sumpah kayak hmmm ini lg reset juga jd kayak aku selalu ganggu km maaf yaa</p>
            
            <p>jujur aku tuh suka kyk byk bgt yg mau diomongin ke km tp kayak kalo ngmg di chat ataupun lgsg jd ga bisa pdhl kalo sendiri ky udh lancar bgt cok gatau knp dah</p>
            
            <p>hmmmmmmm yaudahya<br>semoga sukses di mri ya shif, semangat terus pokonya</p>
            
            <p style="text-align: center; font-size: 1.2em; color: #d81b60; font-weight: bold; margin-top: 20px;">happy birthday baby i love you so much ❤️</p>
        </div>
    </div>

    <div class="music-controls">
        <div class="music-label">🎵 Music</div>
        <button class="music-btn" id="musicBtn">▶️</button>
    </div>

    <div class="overlay" id="overlay"></div>
    
    <div class="candle-container" id="candleContainer">
        <div class="flame-container" id="flameContainer">
            <div class="flame-glow"></div>
            <div class="flame" id="flame"></div>
        </div>
        <div class="candle"></div>
        <div class="instruction">🎂 Click the candle to blow out! 🎂</div>
    </div>

    <div class="wish-message" id="wishMessage">
        <h2>🎉 Wish Granted! 🎉</h2>
        <p>All the best wishes and prayers to you on this special day!! ✨</p>
        <p style="margin-top: 15px; color: #d81b60; font-weight: bold;">Make your wish come true! 💕</p>
        <button class="close-wish" id="closeWish">Thank you! ❤️</button>
    </div>

    <script>
        const audio = document.getElementById('bgMusic');
        const musicBtn = document.getElementById('musicBtn');
        let isPlaying = false;
        let heartsStarted = false;
        let confettiStarted = false;

        const candleContainer = document.getElementById('candleContainer');
        const flameContainer = document.getElementById('flameContainer');
        const flame = document.getElementById('flame');
        const overlay = document.getElementById('overlay');
        const wishMessage = document.getElementById('wishMessage');
        const closeWish = document.getElementById('closeWish');
        let candleBlown = false;

        setTimeout(() => {
            candleContainer.classList.add('show');
            overlay.classList.add('show');
        }, 2000);

        candleContainer.addEventListener('click', function() {
            if (!candleBlown) {
                blowCandle();
            }
        });

        function blowCandle() {
            candleBlown = true;
            flame.classList.add('blown');
            
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const smoke = document.createElement('div');
                    smoke.className = 'smoke';
                    smoke.style.left = (flameContainer.offsetLeft + 15) + 'px';
                    smoke.style.top = (flameContainer.offsetTop + 20) + 'px';
                    document.body.appendChild(smoke);
                    
                    setTimeout(() => smoke.remove(), 2000);
                }, i * 100);
            }
            
            setTimeout(() => {
                candleContainer.style.display = 'none';
                wishMessage.classList.add('show');
                createConfettiBurst();
            }, 800);
        }

        closeWish.addEventListener('click', function() {
            wishMessage.classList.remove('show');
            overlay.classList.remove('show');
            
            if (!heartsStarted) {
                createHearts();
                heartsStarted = true;
            }
            if (!confettiStarted) {
                createConfetti();
                confettiStarted = true;
            }
        });

        function createConfettiBurst() {
            const colors = ['#ffd700', '#ff69b4', '#87ceeb', '#98fb98', '#dda0dd', '#ffb6c1'];
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = (Math.random() * 100) + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 30);
            }
        }

        musicBtn.addEventListener('click', function() {
            if (!isPlaying) {
                const playPromise = audio.play();
                
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        isPlaying = true;
                        musicBtn.textContent = '⏸️';
                        musicBtn.classList.add('playing');
                        
                        if (!heartsStarted) {
                            createHearts();
                            heartsStarted = true;
                        }
                        if (!confettiStarted) {
                            createConfetti();
                            confettiStarted = true;
                        }
                    }).catch(err => {
                        console.log('Audio play failed:', err);
                        alert('Musik gagal diputar. Pastikan koneksi internet stabil dan coba lagi!');
                    });
                }
            } else {
                audio.pause();
                isPlaying = false;
                musicBtn.textContent = '▶️';
                musicBtn.classList.remove('playing');
            }
        });

        function createHearts() {
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'heart';
                heart.textContent = '❤️';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
                document.body.appendChild(heart);
                
                setTimeout(() => {
                    heart.remove();
                }, 7000);
            }, 800);
        }

        function createConfetti() {
            const colors = ['#ffd700', '#ff69b4', '#87ceeb', '#98fb98', '#dda0dd', '#ffb6c1'];
            setInterval(() => {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }, 300);
        }

        const mainPhoto = document.getElementById('mainPhoto');
        
        mainPhoto.onerror = function() {
            console.log('Image failed to load, using fallback');
            this.src = 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="700"%3E%3Crect fill="%23fce4ec" width="400" height="700"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23d81b60" font-size="32" font-family="Arial"%3EShifa 💕%3C/text%3E%3C/svg%3E';
        };

        audio.load();
    </script>
</body>
</html>